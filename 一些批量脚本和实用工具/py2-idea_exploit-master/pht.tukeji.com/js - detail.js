function getQueryString(name) {
    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
    var r = window.location.search.substr(1).match(reg);
    if (r != null) return unescape(r[2]); return null;
}
(function () {
    var src = getQueryString('src');
    var btnColor = getQueryString('bgColor');
    var html = decodeURI(getQueryString('html'));
    var length = parseInt(getQueryString('length'));
    //  设置顶部文字背景颜色  色值来源于url参数btnColor
    document.querySelector('.detail .default-btn').style.backgroundColor = '#' + btnColor;
    //  如果有html参数
    //  设置顶部文字内容为html参数内容
    if (html) {
        document.querySelector('.detail a').innerHTML = html;
    }
    //  时间戳
    var date = new Date().getTime();
    //  根据参数length动态创建img插入到dom
    //  图片的路径来源于参数src
    for (var i = 0; i < length; i++) {
        var img = document.createElement('img');
        img.src = 'img/'+src+'-'+( i + 1 )+'.jpg?'+date+'';
        img.style.borderColor = '#' + btnColor;
        document.querySelector('.detail').appendChild(img);
    }
})();